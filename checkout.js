    showOrderConfirmation() {\n        // Calculate final totals\n        const subtotal = window.eliteShop.getCartTotal();\n        const shipping = subtotal >= 50 ? 0 : 9.99;\n        const tax = subtotal * 0.08;\n        const total = subtotal + shipping + tax;\n\n        // Create order data\n        const orderData = {\n            items: [...window.eliteShop.cart], // Copy cart items\n            shipping: this.formData.shipping,\n            payment: {\n                method: this.formData.payment.method,\n                // Don't store actual payment details for security\n                lastFour: this.formData.payment.cardNumber ? this.formData.payment.cardNumber.slice(-4) : null\n            },\n            subtotal: subtotal,\n            shipping: shipping,\n            tax: tax,\n            total: total\n        };\n\n        // Save order to history\n        if (typeof window.orderHistory !== 'undefined') {\n            window.orderHistory.addOrder(orderData);\n        } else {\n            // Fallback: save directly to localStorage\n            const orders = JSON.parse(localStorage.getItem('eliteshop_orders') || '[]');\n            const order = {\n                id: 'ORD-' + Date.now() + '-' + Math.random().toString(36).substr(2, 5).toUpperCase(),\n                date: new Date().toISOString(),\n                status: 'Processing',\n                ...orderData\n            };\n            orders.unshift(order);\n            localStorage.setItem('eliteshop_orders', JSON.stringify(orders));\n        }\n\n        // Clear cart\n        window.eliteShop.cart = [];\n        window.eliteShop.saveCart();\n\n        // Show confirmation and redirect\n        const container = document.getElementById('checkoutLayout');\n        const { formatPrice } = window.EliteShopData.utils;\n\n        container.innerHTML = `\n            <div class=\"order-confirmation\">\n                <div class=\"confirmation-icon\">\n                    <i class=\"fas fa-check-circle\"></i>\n                </div>\n                <h2>Order Confirmed!</h2>\n                <p>Thank you for your purchase. Your order has been successfully placed.</p>\n\n                <div class=\"order-details\">\n                    <div class=\"order-detail-row\">\n                        <span>Order Total:</span>\n                        <span>${formatPrice(total)}</span>\n                    </div>\n                    <div class=\"order-detail-row\">\n                        <span>Items:</span>\n                        <span>${orderData.items.reduce((sum, item) => sum + item.quantity, 0)}</span>\n                    </div>\n                    <div class=\"order-detail-row\">\n                        <span>Status:</span>\n                        <span>Processing</span>\n                    </div>\n                </div>\n\n                <div class=\"order-email-notice\">\n                    <i class=\"fas fa-envelope\"></i>\n                    <span>Order confirmation sent to ${this.formData.shipping.email}</span>\n                </div>\n\n                <div class=\"confirmation-actions\">\n                    <a href=\"order-history.html\" class=\"btn btn-primary\">View Order History</a>\n                    <a href=\"products.html\" class=\"btn btn-outline\">Continue Shopping</a>\n                </div>\n            </div>\n        `;\n    }